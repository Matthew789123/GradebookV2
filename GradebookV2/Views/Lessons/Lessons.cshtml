@model List<Tuple<GradebookV2.Models.Lesson, List<GradebookV2.Models.File>>>
@{
    ViewBag.Title = "Lessons";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@if (User.IsInRole("Teacher"))
{
    @Html.ActionLink("Add lesson", "createLesson", new { classId = ViewBag.classId, subjectId = ViewBag.subjectId }, new { @style = "float:right;margin-top:1%;" })
    @Html.ActionLink("Add test", "createTest", "Tests", new { classId = ViewBag.classId, subjectId = ViewBag.subjectId }, new { @style = "float:right;margin-top:1%;margin-right:1%" })
}
<h2>Lessons - @ViewBag.subject</h2>
<hr />

<h3 style="text-align:center">Tests</h3>
<ul>
    @foreach (GradebookV2.Models.Test test in ViewBag.testsList)
    {
        <li>@Html.ActionLink(test.Title, "placeholder", new { testId = test.TestId })</li>
    }
</ul>
<hr />

@foreach (Tuple<GradebookV2.Models.Lesson, List<GradebookV2.Models.File>> t in Model)
{
    <h3 style="text-align:center">@t.Item1.Title</h3>
    <p>@t.Item1.Content</p>
    <ul>
        @foreach (GradebookV2.Models.File f in t.Item2)
        {
            <li>@Html.ActionLink(f.FileName, "downloadFile", new { fileId = f.FileId })</li>
        }
    </ul>
    <hr />
}

